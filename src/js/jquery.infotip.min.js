/**
 * ----------------------------------------------------------------------------------
 * InfoTip plugin for jQuery
 * Version: 1.0
 * Author: Raúl Fernández, raul@tambaqui.es
 * Copyright (c) 2012 Raúl Fernández
 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
 * -----------------------------------------------------------------------------------
 **/
(function($){$.fn.infoTip=function(options){var defaults={timeout:200};var o=$.extend(defaults,options);this.each(function(){var closetimer=0;var lnk=$(this);var tip=$(lnk.attr('href'));var lbl_hide=lnk.attr('data-rel');var lbl_show=lnk.html();function _open(){_canceltimer();lnk.addClass('hover');if(lbl_hide)lnk.html(lbl_hide);tip.show()}function _enter(){_canceltimer()}function _close(){lnk.removeClass('hover');if(lbl_hide)lnk.html(lbl_show);tip.hide()}function _timer(){closetimer=window.setTimeout(_close,o.timeout)}function _canceltimer(){if(closetimer){window.clearTimeout(closetimer);closetimer=null}}lnk.click(function(ev){ev.preventDefault();if($(this).hasClass('hover'))_close();else _open()});lnk.bind('mouseenter',_open);lnk.bind('mouseleave',_timer);tip.bind('mouseenter',_enter);tip.bind('mouseleave',_timer);tip.bind('click',_close)})}})(jQuery);